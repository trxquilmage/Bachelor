title: Riley.Start
tags:
---
<<showcharactername Managers Riley>>
<<set $characterName to getinfo("characterName", 0)>>
<<set $characterQuest to getinfo("characterQuest", 0)>>
<<set $isInspector to getinfo("isInspector", 0)>>
<<if not isvisited("Riley", "Start")>>
    [[Riley.AskName]]
<<elseif $characterQuest eq null and $isInspector eq null>>
    [[Riley.RetryReasonForComing]]
<<elseif $characterName eq null>>
    [[Riley.RetryName]]
<<else>>
    [[Riley.CompanionMenu]]
<<endif>>
===

title: Riley.CompanionMenu
tags: 
---
<<if not isvisited("Riley", "Walking")>>
    [[Riley.Walking]]
<<elseif not isvisited("Riley", "Origin")>>
    [[Riley.Origin]]
<<endif>>
...
===

title: Riley.AskName
tags:
---
Hello, welcome to Bridgetown!
<<showicantsay Managers>>
<<displaypromptmenu Managers NameAAA>>
Sorry, could I get your name?
<<set $cantsay to icantsay("Riley", "CantEnter")>>
<<set $characterName to react("name", "characterName", "Riley")>>
{$characterName}, great. 
[[Riley.CantEnter]]
===

title: Riley.CantEnter
tags:
---
I'm sorry, I can't let anyone in right now.
This town has become an active crime scene
as of yesterday. There's been a murder.
Oh... Wait a second. 
HQ said, they'll to send an inspector.
<<displaypromptmenu Managers GenAAA>>
Yes or No, are you the new inspector?
<<set $isInspector to react("value", "isInspector", "Riley")>>
<<if $isInspector eq true>>
    [[Riley.IsInspector]]
<<else>>
    [[Riley.IsntInspectorSorry]]
<<endif>>
===

title: Riley.IsInspector
tags:
---
<<if $characterName eq null>>
    Great. Glad to have you here, Inspector.....
    <<showicantsay Managers>>
    <<displaypromptmenu Managers AllAAA>>
    Really. What is your name?
    <<set $cantsay to icantsay("Riley", "NotWithoutName")>>
    <<set $characterName to react("name", "characterName", "Riley")>>
    Great. Glad to have you here, Inspector {$characterName}.
<<else>>
    Great. Glad to have you here, Inspector {$characterName}.
<<endif>>
<<displaypromptmenu Managers GenAAA>>
Do you need a quick rundown of the case?
<<set $needsRundown to react("value", "", "Riley")>>
<<if $needsRundown>>
    [[Riley.Rundown]]
<<else>>
    Okay, great then.
    I will just follow you for around, if you don't mind.
    <<settocompanion Managers Riley>>
<<endif>>
===

title: Riley.IsntInspectorSorry
tags:
---
Oh okay.
Sorry that was kind of a dumb question, I guess.
But I am not allowed to let visitors into town.
[[Riley.IsntInspector]]
===

title: Riley.IsntInspector
tags:
---
<<showicantsay Managers>>
<<displaypromptmenu Managers QuestAAA>>
Is your buiness here important? What are you here for?
<<set $cantSay to icantsay("Riley", "CantGiveReasonForComing")>>
<<set $questInfo to react("name", "characterQuest", "Riley")>>
<<set $mother to react("Evelyn Garland", "mother", "Riley")>>
<<if $questInfo eq "Visit Home" and $mother eq "Evelyn Garland">>
    Oh.
    Oh--okay.
    Uh, would you mind going into town with me?
    <<settocompanion Managers Riley>>
<<elseif $questInfo eq "VisitHome">>
    Oh you are here to visit home? 
    If you're a local I guess I can let you through,
    but I will need to follow you around.
    <<settocompanion Managers Riley>>
<<endif>>
===

title: Riley.CantGiveReasonForComing
tags:
---
Okay, look I can't let you into town,
if you are that secretive about what
you are here for. Please understand that.
<<set $notAllowedIn to true>>
===

title: Riley.RetryReasonForComing
tags:
---
Okay, so can you now tell me what
you are here for?
<<set $notAllowedIn to false>>
===

title: Riley.NotWithoutName
tags:
---
Sorry, if you want to work with me,
I will need your name for the papers.
===

title: Riley.RetryName
tags:
---
Okay, let's try again. 
<<showicantsay Managers>>
<<displaypromptmenu Managers AllAAA>>
What is your name?
<<set $cantsay to icantsay("Riley", "NotWithoutName")>>
<<set $characterName to react("name", "characterName", "Riley")>>
Okay great. I don't see how this was an issue?
[[Riley.IsInspector]]
===

title: Riley.Rundown
tags:
---
The victim is a woman named Evelyn Garland.
She was stabbed in her house yesterday.
The investigation has only stared today,
so we don't know that much yet.
I'd first recommend questioning the suspects,
that were near her at the time. 
I will follow you around, to aid in your 
investigations, if you don't mind.
<<settocompanion Managers Riley>>
===

title: Riley.ICantSay
tags:
---
Oh, okay. No answer then.
<<onnodecomplete Managers>>
This has to be here so the dialogue doesnt end
otherwise the dialogue will be over before the command is done
and that causes problems.
===